<script type="module" defer>
  import { initAll } from "./all.mjs";

  const params =
    new Proxy(new URLSearchParams(window.location.search), {
      get: (searchParams, prop) => searchParams.get(prop),
    }) || {};

  const removeAllClasses = () => {
    const $classedElements = document.querySelectorAll(
      "#storybook-root [class]",
    );
    for (let i = 0; i < $classedElements.length; i++) {
      $classedElements[i].setAttribute("class", "");
    }
  };

  if (params.noJS !== null) {
    const $body = document.documentElement;
    $body.classList.remove("tna-template--js-enabled");
  } else {
    window.addEventListener("onload", initAll);
    document.addEventListener("DOMContentLoaded", initAll, false);
  }

  if (params.noCSS !== null) {
    window.addEventListener("onload", removeAllClasses);
    document.addEventListener("DOMContentLoaded", removeAllClasses, false);
  }
</script>
<!-- <link
  rel="preload"
  href="/static/media/src/nationalarchives/assets/fonts/OpenSans-Medium.ttf"
  as="font"
  type="font/ttf"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="/static/media/src/nationalarchives/assets/fonts/OpenSans-Bold.ttf"
  as="font"
  type="font/ttf"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="/static/media/src/nationalarchives/assets/fonts/RobotoMono-Regular.ttf"
  as="font"
  type="font/ttf"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="/static/media/src/nationalarchives/assets/fonts/fa-solid-900.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  href="/static/media/src/nationalarchives/assets/fonts/fa-brands-400.woff2"
  as="font"
  type="font/woff2"
  crossorigin="anonymous"
/> -->
