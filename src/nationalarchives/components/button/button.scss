@use "sass:math";
@use "../../tools/colour";
@use "../../tools/media";
@use "../../tools/typography";
@use "../../utilities";
@import "button-group";

.tna-button {
  padding: 0.25rem 1rem;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;

  @include typography.main-font-weight-bold;
  text-decoration: none;
  text-align: center;

  @include colour.colour-background("button-background");

  @include colour.colour-border("button-background", 0.25rem);

  transition:
    color 200ms,
    background-color 200ms,
    border-color 200ms;

  cursor: pointer;

  &,
  .fa-solid,
  .fa-brands {
    @include typography.relative-font-size(18);
    line-height: #{math.div(16, 18) * 2};
  }

  &,
  &:link,
  &:visited {
    @include colour.colour-font("button-text");
  }

  &:hover {
    @include colour.colour-font("button-hover-text");
    text-decoration: none;

    background: transparent;

    transition:
      color 50ms,
      background-color 50ms,
      border-color 50ms;
  }

  &--plain {
    @include typography.main-font-weight;

    background-color: transparent;

    border-color: transparent;

    &,
    &:link,
    &:visited {
      @include colour.colour-font("link");
    }

    &:hover {
      @include typography.interacted-text-decoration;
    }
  }

  &--accent {
    @include colour.colour-background("button-accent-background");

    @include colour.colour-border("button-accent-background");

    &,
    &:link,
    &:visited {
      @include colour.colour-font("button-accent-text");
    }

    &:hover {
      @include colour.colour-font("font-dark");
    }
  }

  .fa-solid,
  .fa-brands {
    min-width: 1.25rem;

    display: block;
  }

  &--small,
  &-group--small & {
    padding: 0 0.5rem;

    @include typography.relative-font-size(14);
    line-height: 1.5rem;

    .fa-solid,
    .fa-brands {
      @include typography.relative-font-size(18);
      line-height: 2rem;
    }
  }

  @mixin icon-only {
    padding-right: 0;
    padding-left: 0;

    gap: 0;

    font-size: 0;

    .fa-solid,
    .fa-brands {
      width: 2.5rem;
    }
  }

  @mixin icon-only-small {
    padding-right: 0;
    padding-left: 0;

    .fa-solid,
    .fa-brands {
      width: 2rem;
    }
  }

  &--icon-only:has(.fa-solid, .fa-brands) {
    @include icon-only;
  }

  &--small#{&}--icon-only:has(.fa-solid, .fa-brands),
  &-group--small &--icon-only:has(.fa-solid, .fa-brands) {
    @include icon-only-small;
  }

  @include media.on-mobile {
    &--icon-only-mobile:has(.fa-solid, .fa-brands) {
      @include icon-only;
    }

    &--small#{&}--icon-only-mobile:has(.fa-solid, .fa-brands),
    &-group--small &--icon-only-mobile:has(.fa-solid, .fa-brands) {
      @include icon-only-small;
    }
  }

  &--solid-hover,
  .tna-background--accent-light &,
  .tna-background--accent &:not(.tna-button--accent) {
    &:not(.tna-button--plain):hover {
      @include colour.colour-background("page-background");
    }
  }

  .tna-background--accent &--accent {
    @include colour.fixed;

    @include colour.colour-background("page-background");

    @include colour.colour-border("page-background");

    &,
    &:link,
    &:visited {
      @include colour.colour-font("font-dark");
    }

    &:hover {
      @include colour.colour-font("page-background");

      @include colour.colour-background("font-dark");
    }
  }
}
