{% from "nationalarchives/components/button/macro.njk" import tnaButton %}

{%- set containerClasses = [params.classes] if params.classes else [] -%}
<div class="tna-cookie-banner {{ containerClasses | join(' ') }}" role="region" aria-label="Cookie usage" data-module="tna-cookie-banner" data-policies="{{ params.policies if params.policies else 'usage,settings' }}" data-preferenceskey="{{ params.cookiesPreferencesSetKey if params.cookiesPreferencesSetKey else 'cookies_preferences_set' }}"{% if params.loadScriptsOnAccept %} data-acceptscripts="{{ params.loadScriptsOnAccept }}"{% endif %}{%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %} hidden>
  <div class="tna-container">
    <div class="tna-column tna-column--full tna-cookie-banner__message tna-cookie-banner__message--prompt">
      <h2>This website uses cookies</h2>
      <p>We use some essential cookies to make this service work.</p>
      <p>We'd also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
      <div class="tna-button-group">
        {{ tnaButton({
          text: "Accept cookies",
          buttonElement: true,
          attributes: {
            value: "accept"
          }
        }) }}
        {{ tnaButton({
          text: "Reject cookies",
          buttonElement: true,
          attributes: {
            value: "reject"
          }
        }) }}
        {{ tnaButton({
          text: "Set cookie preferences",
          href: "#",
          plain: true
        }) }}
      </div>
    </div>
    <div class="tna-column tna-column--full tna-cookie-banner__message tna-cookie-banner__message--accepted" tabindex="0" hidden>
      <p>
        You have accepted optional cookies. You can change your cookie settings on the <a href="#">Cookies page</a>.
      </p>
      <div class="tna-button-group">
        {{ tnaButton({
          text: "Close this message",
          buttonElement: true,
          attributes: {
            value: "close"
          }
        }) }}
      </div>
    </div>
    <div class="tna-column tna-column--full tna-cookie-banner__message tna-cookie-banner__message--rejected" tabindex="0" hidden>
      <p>
        You have rejected optional cookies. You can change your cookie settings on the <a href="#">Cookies page</a>.
      </p>
      <div class="tna-button-group">
        {{ tnaButton({
          text: "Close this message",
          buttonElement: true,
          attributes: {
            value: "close"
          }
        }) }}
      </div>
    </div>
  </div>
</div>
