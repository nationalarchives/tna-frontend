{% from "nationalarchives/components/button/macro.njk" import tnaButton %}
{% from "nationalarchives/utilities/forms/form-item.njk" import tnaFormItem %}

{%- call tnaFormItem({
  headingLevel: params.headingLevel,
  headingSize: params.headingSize,
  id: params.id,
  label: params.label,
  hint: params.hint,
  error: params.error,
  classes: params.formItemClasses,
  attributes: params.formItemAttributes
}) %}
  <div class="tna-search-field">
    <input type="search" id="{{ params.id }}" class="tna-search-field__input{% if params.classes %} {{ params.classes }}{% endif %}" name="{{ params.name }}" value="{{ params.value }}" spellcheck="{{ params.spellcheck if params.spellcheck else false }}"
    {%- if params.hint %} aria-describedby="{{ params.id }}-hint"{% endif %}
    {%- if params.inputmode %} inputmode="{{ params.inputmode }}"{% endif %}
    {%- for attribute, value in params.attributes %} {{ attribute }}{% if value !== '' %}="{{ value }}"{% endif %}{% endfor %}>
    {{ tnaButton({
      text: "Search",
      iconSvg: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" height="24" aria-hidden="true" focusable="false"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L406.6 137.3C394.1 124.8 373.8 124.8 361.3 137.3C348.8 149.8 348.8 170.1 361.3 182.6L466.7 288L96 288C78.3 288 64 302.3 64 320C64 337.7 78.3 352 96 352L466.7 352L361.3 457.4C348.8 469.9 348.8 490.2 361.3 502.7C373.8 515.2 394.1 515.2 406.6 502.7L566.6 342.7z"/></svg>',
      rightAlignIcon: true,
      buttonElement: true,
      buttonType: "submit",
      classes: "tna-search-field__button"
    }) }}
  </div>
{%- endcall %}
