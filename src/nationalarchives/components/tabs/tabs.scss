@use "../../variables/a11y" as a11yVariables;
@use "../../variables/borders";
@use "../../tools/a11y";
@use "../../tools/colour";
@use "../../tools/media";
@use "../../tools/spacing";
@use "../../tools/typography";

.tna-tabs {
  @include spacing.space-above;

  &__list {
    margin: 0;
    padding: 0;

    display: flex;
    flex-wrap: nowrap;
    align-items: stretch;
    gap: spacing.space(0.5);

    position: relative;
    z-index: 2;

    list-style: none;
  }

  &__list-item {
  }

  &__button {
    padding: borders.$thick-border-width 0;

    position: relative;

    text-align: center;

    background: transparent;

    border: none;

    cursor: pointer;

    &[aria-selected="true"] {
      padding-top: 0;

      @include colour.tint;
    }
  }

  &__button-inner {
    padding: spacing.space(0.5) spacing.space(0.75);

    display: block;

    text-decoration: underline;

    @include colour.colour-font("font-dark");
  }

  &__button:hover &__button-inner {
    @include typography.interacted-text-decoration;
  }

  &__button[aria-selected="true"] &__button-inner {
    text-decoration: none;
    
    @include colour.thick-keyline-accent(top);
  }

  &__items {
    display: flex;
    flex-direction: column;
    gap: spacing.space(2);
  }

  &__item {
    border-radius: 0.1px;
    @include a11y.no-focus-outline-on-click;

    &:focus {
      outline-offset: -#{a11yVariables.$focus-outline-width};
    }
  }

  &--interactive &__item {
    padding: spacing.space(1);

    @include colour.tint;
  }

  &--plain {
    overflow-x: hidden;
  }

  &--plain &__list {
    padding: a11yVariables.$focus-outline-width +
      a11yVariables.$focus-outline-offset spacing.space(1) 0;
  }

  &--plain#{&}--interactive &__button {
    background: transparent;

    border: 1px transparent solid;
    border-bottom: none;
  }

  &--plain#{&}--interactive &__button[aria-selected="true"] {
    padding-top: 0;

    @include colour.colour-border("keyline");

    &::before,
    &::after {
      content: "";

      width: 100vw;

      position: absolute;
      inset: auto auto 0;

      @include colour.colour-border("keyline", 0);
    }

    &::before {
      right: 100%;

      border-width: 0 1px 1px 0;
    }

    &::after {
      left: 100%;

      border-width: 0 0 1px 1px;
    }
  }

  &--plain#{&}--interactive &__item {
    background: none;

    @include colour.colour-border("keyline", 1px, solid);
    border-top-width: 0;
  }

  // @include colour.on-high-contrast-and-forced-colours {
  //   &__list {
  //     @include colour.colour-border("keyline-dark", 1px, solid, bottom);
  //   }
  // }

  // @include colour.on-forced-colours {
  //   &__button {
  //     &--selected {
  //       padding-bottom: spacing.space(0.125);

  //       border-bottom-width: 0.375rem;
  //     }
  //   }
  // }
}
